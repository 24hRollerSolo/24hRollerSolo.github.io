---
layout: page
title: Entraînement
permalink: /training/
---

<h1>Entraînement</h1>

<h2>Détails des entraînements</h2>

<canvas id="sportsChart" width="400" height="120"></canvas>

<h2>Suivi du poids</h2>

<canvas id="weightChart" width="400" height="120"></canvas>

<script type="text/javascript" src="{{ "/assets/scripts/moment.min.js" | relative_url }}"></script>
<script type="text/javascript" src="{{ "/assets/scripts/Chart.min.js" | relative_url }}"></script>

<script>
var sports = {{ site.data.sports | jsonify }};
var weeklyData = {};
sports.forEach(function(item) {
  var date = moment(item.date)
  var key = date.year() + "-s" + date.isoWeek();
  if (key === "2017-s52") {
    key = "2016-s52";
  }
  if (!weeklyData[key]) {
    weeklyData[key] = {"RUNNING": 0, "ROLLER": 0, "BIKE_INDOOR": 0, "WORKOUT": 0};
  }
  weeklyData[key][item.type] = weeklyData[key][item.type] + Math.round(moment.duration(item.duration).asMinutes());
});

var labels = Object.keys(weeklyData);
var runningData = labels.map(function(label) { return weeklyData[label]["RUNNING"] });
var rollerData = labels.map(function(label) { return weeklyData[label]["ROLLER"] });
var bikeIndoorData = labels.map(function(label) { return weeklyData[label]["BIKE_INDOOR"] });
var workoutData = labels.map(function(label) { return weeklyData[label]["WORKOUT"] });

var ctx = document.getElementById("sportsChart");
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: labels,
        datasets: [
          {
            label: 'Running',
            data: runningData,
            backgroundColor: 'rgba(74, 20, 140, 1)',
            borderColor: 'rgba(74, 20, 140, 1)',
            borderSkipped: true
          },
          {
            label: 'Roller',
            data: rollerData,
            backgroundColor: 'rgba(233, 30, 99, 1)',
            borderColor: 'rgba(233, 30, 99, 1)',
            borderSkipped: true
          },
          {
            label: 'Indoor Bike',
            data: bikeIndoorData,
            backgroundColor: 'rgba(255, 160, 0, 1)',
            borderColor: 'rgba(255, 160, 0, 1)',
            borderSkipped: true
          },
          {
            label: 'Workout',
            data: workoutData,
            backgroundColor: 'rgba(0, 188, 212, 1)',
            borderColor: 'rgba(0, 188, 212, 1)',
            borderSkipped: true
          }
      ]
    },
    options: {
      scales: {
            xAxes: [{
                stacked: true
            }],
            yAxes: [{
                stacked: true,
                scaleLabel: {
                  display: true,
                  labelString: 'minutes'
                }
            }]
        }
    }
});
</script>

<script>
var weights = {{ site.data.weight | jsonify }};

var labels = weights.map(function(item) { return item.date })
var data = weights.map(function(item) { return item.weight })

var ctx = document.getElementById("weightChart");
var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: labels,
        datasets: [{
            label: 'Poids',
            data: data,
            fill: false,
            backgroundColor: "rgba(66, 66, 66, 1)",
            borderColor: "rgba(66, 66, 66, 1)"
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    max: 108,
                    min: 100
                },
                scaleLabel: {
                  display: true,
                  labelString: 'kg'
                }
            }],
            xAxes: [{
                type: 'time'
            }]
        }
    }
});
</script>
